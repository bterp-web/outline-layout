<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../iron-icons/hardware-icons.html">
<link rel="import" href="../paper-stepper/paper-stepper.html">
<link rel="import" href="../iron-pages/iron-pages.html">
<link rel="import" href="outline-content-1.html">
<link rel="import" href="outline-content-2.html">
<link rel="import" href="outline-content-3.html">


<!--
`outline-layout`
Content for collapsible drawer layout.

@demo demo/index.html
-->

<dom-module id="outline-content">
    <template>
        <style>
             :host {
                display: block;
            }
        </style>

        <!--Pages-->
        <iron-pages selected="[[activePage]]">
            <outline-content-1></outline-content-1>
            <outline-content-2></outline-content-2>
            <outline-content-3></outline-content-3>
        </iron-pages>

        <!--Counter-->
        <template is="dom-if" if="[[count]]">
            <paper-stepper selected="{{activePage}}">
                <template is="dom-repeat" items="[[_countToArray(count)]]">
                    <paper-step></paper-step>
                </template>
            </paper-stepper>
        </template>
    </template>
    </template>

    <script>
        Polymer({

            is: 'outline-content',

            properties: {
                activePage: {
                    type: String,
                    value: 0
                },
                count: {
                    type: Number,
                    value: 0
                }
            },
            _countToArray: function (count) {
                var array = [];
                if (count) {
                    for (i = 0; i < count; i++) {
                        array.push(i);
                    }
                }
                console.log(array);
                return array;
            },
            ready: function () {
                var root = this;
                var ironPages = root.$$('iron-pages');
                if (ironPages.children) {
                    if (ironPages.children.length) {
                        root.count = ironPages.children.length;
                    }
                }
            }
        });
    </script>
</dom-module>